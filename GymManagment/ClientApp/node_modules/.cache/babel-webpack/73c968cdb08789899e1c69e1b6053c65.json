{"ast":null,"code":"import { GymService } from '../services/gym.service';\nimport { isNull } from 'util';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/gym.service\";\nimport * as i2 from \"@angular/router\";\nconst _c0 = function () {\n  return [\"/Employee\"];\n};\nconst _c1 = function () {\n  return [1000, 400];\n};\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(gymServices, _router, route) {\n      this.gymServices = gymServices;\n      this._router = _router;\n      this.route = route;\n      this.GymMember = 0;\n      this.Trainer = 0;\n      this.PT = 0;\n      this.Enquiry = 0;\n      this.MbrShipExpiring = 0;\n      this.saleData = [];\n      this.columnDefs = [{\n        headerName: 'Id',\n        field: 'MbrId',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        hide: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Name',\n        field: 'MbrName',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Enquiry for',\n        field: 'EnquiryFor',\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Expected date to join ',\n        field: 'ExpectedDtToJoin',\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Enquiry Date',\n        field: 'enquiryDate',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Last follow up',\n        field: 'enquiryDate',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }];\n      this.columnDefs1 = [{\n        headerName: 'MbrId',\n        field: 'Id',\n        Filter: true,\n        enableSorting: true,\n        hide: true\n      }, {\n        headerName: 'Name',\n        field: 'MbrName',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Designaion',\n        field: 'MbrType',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'Mobile No',\n        field: 'MbrMob',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'BIRTHDAY',\n        field: 'BIRTHDAY',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }, {\n        headerName: 'AGE',\n        field: 'AGE_NOW',\n        Filter: true,\n        enableSorting: true,\n        sortable: true,\n        filter: 'agTextColumnFilter'\n      }];\n    }\n    ngOnInit() {\n      this.IsSessionEnable = this.gymServices.CheckToken();\n      if (!this.IsSessionEnable) return this._router.navigate([\"\"]);\n    }\n    onGridReady(params) {\n      params.api.sizeColumnsToFit();\n      this.gridApi = params.api;\n      this.gridColumnApi = params.columnApi;\n      let dataValue;\n      this.gymServices.GetDashboardData().subscribe(result => {\n        if (!isNull(result)) {\n          debugger;\n          if (result.countModel != null) {\n            this.GymMember = result.countModel.filter(x => x.MbrType == \"GymMember\")[0].count; //(result.countModel['GymMember'] == undefined || result.countModel['GymMember'] == null) ? 0 : result.countModel['GymMember'].count;\n            this.Trainer = result.countModel.filter(x => x.MbrType == \"Trainer\")[0].count;\n            this.PT = result.countModel.filter(x => x.MbrType == \"PT\")[0].count;\n            this.Enquiry = result.countModel.filter(x => x.MbrType == \"Enquiry\")[0].count;\n            this.MbrShipExpiring = result.countModel.filter(x => x.MbrType == \"MbrShipExpiring\")[0].count;\n            this.Events = '0';\n          }\n          dataValue = result.enquiryModel;\n          params.api.setRowData(dataValue);\n          if (result.salesModel) {\n            for (let n = 0; n < result.salesModel.length; ++n) {\n              this.saleData.push({\n                \"name\": result.salesModel[n].Months,\n                \"value\": Number(result.salesModel[n].Amt)\n              });\n            }\n          }\n          // ngs chart does not detect the data change sp we add below line\n          this.saleData = [...this.saleData];\n        } else {\n          dataValue = \"\";\n          params.api.setRowData(dataValue);\n        }\n      }, error => alert(error.message));\n    }\n    onGridReady1(params) {\n      params.api.sizeColumnsToFit();\n      this.gridApi1 = params.api;\n      this.gridColumnApi1 = params.columnApi;\n      this.gymServices.GetUpcomingBirthdays().subscribe(result => {\n        if (!isNull(result)) {\n          params.api.setRowData(result);\n        }\n      }, error => alert(error.message));\n    }\n  }\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.GymService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 105,\n    vars: 34,\n    consts: [[1, \"wrapper\", \"fadeInDown\"], [1, \"content\"], [1, \"container-fluid\"], [1, \"row\", \"text-center\"], [1, \"col-lg-4\", \"col-6\"], [1, \"small-box\", \"bg-info\"], [1, \"inner\", \"topPadding\"], [2, \"font-size\", \"20px\"], [1, \"icon\"], [1, \"ion\", \"ion-bag\"], [\"href\", \"#\", 1, \"small-box-footer\", \"text-light\", 3, \"routerLink\"], [1, \"fas\", \"fa-arrow-circle-right\"], [1, \"small-box\", \"bg-success\"], [1, \"ion\", \"ion-stats-bars\"], [1, \"small-box\", \"bg-warning\"], [1, \"ion\", \"ion-person-add\"], [1, \"row\", \"text-center\", 2, \"margin-top\", \"5px\"], [1, \"small-box\", \"bg-danger\"], [1, \"small-box\", \"bg-primary\"], [1, \"small-box\", \"bg-secondary\"], [1, \"row\"], [1, \"col-lg-12\", \"connectedSortable\"], [1, \"card\", 2, \"max-width\", \"100% !important\", \"margin\", \"10px 0 0 0 !important\", \"padding\", \"0px !important\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"fas\", \"fa-chart-pie\", \"mr-1\"], [1, \"card-body\"], [1, \"tab-content\", \"p-0\"], [3, \"view\", \"results\", \"xAxisLabel\", \"legendTitle\", \"yAxisLabel\", \"legend\", \"showXAxisLabel\", \"showYAxisLabel\", \"xAxis\", \"yAxis\", \"gradient\"], [\"pagination\", \"true\", \"paginationPageSize\", \"20\", 1, \"ag-theme-alpine\", 2, \"width\", \"100%\", \"height\", \"300px\", 3, \"columnDefs\", \"animateRows\", \"gridReady\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav-menu\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵelementStart(3, \"section\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"h3\");\n        i0.ɵɵtext(10, \"Gym Members\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\", 7);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelement(14, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"a\", 10);\n        i0.ɵɵtext(16, \"More info \");\n        i0.ɵɵelement(17, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 4);\n        i0.ɵɵelementStart(19, \"div\", 12);\n        i0.ɵɵelementStart(20, \"div\", 6);\n        i0.ɵɵelementStart(21, \"h3\");\n        i0.ɵɵtext(22, \"Trainer's\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"p\", 7);\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 8);\n        i0.ɵɵelement(26, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"a\", 10);\n        i0.ɵɵtext(28, \"More info \");\n        i0.ɵɵelement(29, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 4);\n        i0.ɵɵelementStart(31, \"div\", 14);\n        i0.ɵɵelementStart(32, \"div\", 6);\n        i0.ɵɵelementStart(33, \"h3\");\n        i0.ɵɵtext(34, \"Profetinal Trainers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"p\", 7);\n        i0.ɵɵtext(36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 8);\n        i0.ɵɵelement(38, \"i\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"a\", 10);\n        i0.ɵɵtext(40, \"More info \");\n        i0.ɵɵelement(41, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 16);\n        i0.ɵɵelementStart(43, \"div\", 4);\n        i0.ɵɵelementStart(44, \"div\", 17);\n        i0.ɵɵelementStart(45, \"div\", 6);\n        i0.ɵɵelementStart(46, \"h3\");\n        i0.ɵɵtext(47, \"Month Enqiries\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"p\", 7);\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 8);\n        i0.ɵɵelement(51, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"a\", 10);\n        i0.ɵɵtext(53, \"More info \");\n        i0.ɵɵelement(54, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"div\", 4);\n        i0.ɵɵelementStart(56, \"div\", 18);\n        i0.ɵɵelementStart(57, \"div\", 6);\n        i0.ɵɵelementStart(58, \"h3\");\n        i0.ɵɵtext(59, \"Membership expiring \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"p\", 7);\n        i0.ɵɵtext(61);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"div\", 8);\n        i0.ɵɵelement(63, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"a\", 10);\n        i0.ɵɵtext(65, \"More info \");\n        i0.ɵɵelement(66, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 4);\n        i0.ɵɵelementStart(68, \"div\", 19);\n        i0.ɵɵelementStart(69, \"div\", 6);\n        i0.ɵɵelementStart(70, \"h3\");\n        i0.ɵɵtext(71, \"Event\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"p\", 7);\n        i0.ɵɵtext(73);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"div\", 8);\n        i0.ɵɵelement(75, \"i\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"a\", 10);\n        i0.ɵɵtext(77, \"More info \");\n        i0.ɵɵelement(78, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"div\", 20);\n        i0.ɵɵelementStart(80, \"section\", 21);\n        i0.ɵɵelementStart(81, \"div\", 22);\n        i0.ɵɵelementStart(82, \"div\", 23);\n        i0.ɵɵelementStart(83, \"h3\", 24);\n        i0.ɵɵelement(84, \"i\", 25);\n        i0.ɵɵtext(85, \" Sales \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(86, \"div\", 26);\n        i0.ɵɵelementStart(87, \"div\", 27);\n        i0.ɵɵelement(88, \"ngx-charts-bar-vertical\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"div\", 20);\n        i0.ɵɵelementStart(90, \"section\", 21);\n        i0.ɵɵelementStart(91, \"div\");\n        i0.ɵɵelementStart(92, \"div\", 23);\n        i0.ɵɵelementStart(93, \"h3\", 24);\n        i0.ɵɵelement(94, \"i\", 25);\n        i0.ɵɵtext(95, \" New Member's Enqiry \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(96, \"ag-grid-angular\", 29);\n        i0.ɵɵlistener(\"gridReady\", function HomeComponent_Template_ag_grid_angular_gridReady_96_listener($event) {\n          return ctx.onGridReady($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(97, \"div\", 20);\n        i0.ɵɵelementStart(98, \"section\", 21);\n        i0.ɵɵelementStart(99, \"div\");\n        i0.ɵɵelementStart(100, \"div\", 23);\n        i0.ɵɵelementStart(101, \"h3\", 24);\n        i0.ɵɵelement(102, \"i\", 25);\n        i0.ɵɵtext(103, \" Upcoming Birthdays \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(104, \"ag-grid-angular\", 29);\n        i0.ɵɵlistener(\"gridReady\", function HomeComponent_Template_ag_grid_angular_gridReady_104_listener($event) {\n          return ctx.onGridReady1($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate(ctx.GymMember);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(27, _c0));\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\" \", ctx.Trainer, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(28, _c0));\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.PT);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(29, _c0));\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.Enquiry);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c0));\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\" \", ctx.MbrShipExpiring, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c0));\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.Events);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(32, _c0));\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"view\", i0.ɵɵpureFunction0(33, _c1))(\"results\", ctx.saleData)(\"xAxisLabel\", \"Months\")(\"legendTitle\", \"Sale Chart\")(\"yAxisLabel\", \"Sales\")(\"legend\", true)(\"showXAxisLabel\", true)(\"showYAxisLabel\", true)(\"xAxis\", true)(\"yAxis\", true)(\"gradient\", true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"columnDefs\", ctx.columnDefs)(\"animateRows\", true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"columnDefs\", ctx.columnDefs1)(\"animateRows\", true);\n      }\n    },\n    styles: [\"\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}