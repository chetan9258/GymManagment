{"version":3,"file":"platform-server.js","sources":["../src/domino_adapter.ts","../src/platform_state.ts","../src/http.ts","../src/tokens.ts","../src/location.ts","../src/server_events.ts","../src/server_renderer.ts","../src/styles_host.ts","../src/server.ts","../src/transfer_state.ts","../src/utils.ts","../src/version.ts","../platform-server.ts"],"names":["BrowserDomAdapter","setRootDomAdapter","HttpInterceptingHandler","url.parse","getDOM","flattenStyles","SharedStylesHost","NAMESPACE_URIS","shimContentAttribute","shimHostAttribute","PLATFORM_SERVER_ID","ALLOW_MULTIPLE_PLATFORMS","NullViewportScroller","platformCoreDynamic","escapeHtml"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAOM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC;AAEhC;AAAK;AAA0B;AAAgB;AAE/C,SAAS,eAAe,CAAC,UAAkB;AAC1C,IAAC,OAAO,IAAI,KAAK,CAAC,mDAAmD,GAAG,UAAU,CAAC,CAAC;AACpF,CAAA;AAED;AAAK;AAAgB;AAArB,SAAS,WAAW;AACnB;AACG,IAAF,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;AACpC,IAAC,oBAAC,MAAM,IAAS,eAAe,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AACtD,CAAA;AAED;AACC;AACC;AACgB;AAAoB;AAAgB;AAAtD,SAAgB,aAAa,CAAC,IAAY,EAAE,GAAG,GAAG,GAAG;AACpD;AAAsB,QAAjB,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC;AAC5C;AAAsB,QAAjB,GAAG,GAAG,MAAM,CAAC,QAAQ;AAC1B,IAAC,OAAO,GAAG,CAAC;AACZ,CAAA;AAED;AACC;AACC;AACe;AAAgB;AAAjC,SAAgB,iBAAiB,CAAC,GAAa;AAAK,IAClD,OAAO,oBAAC,GAAG,IAAS,SAAS,EAAE,CAAC;AACjC,CAAA;AAED;AACC;AACC;AACF,MAAa,aAAc,SAAQA,kBAAiB;AACnD;AAAS;AACL;AAAS,IADZ,OAAO,WAAW;AACnB,QAAG,WAAW,EAAE,CAAC;AACjB,QAAGC,kBAAiB,CAAC,IAAI,aAAa,EAAE,CAAC,CAAC;AAC1C,KAAE;AAEH;AAAS;AAAyB;AAEpB;AAAS,IAArB,QAAQ,CAAC,KAAa,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AAEnD;AAAS;AACE;AAAoB;AAAS,IADtC,GAAG,CAAC,KAAa;AAClB;AACK,QAAF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACtB,KAAE;AAEH;AAAS;AAAyB;AAEjC;AAAS,IAFR,QAAQ,CAAC,KAAa,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AAEnD;AAAS;AAEA;AAAS,IAFhB,WAAW,MAAK;AAElB;AAAS;AAAoB;AAAS,IAApC,iBAAiB,KAAc,OAAO,KAAK,CAAC,EAAE;AAC/C;AAAS;AAAoB;AAAS,IAArC,uBAAuB,KAAc,OAAO,KAAK,CAAC,EAAE;AAEtD;AAAS;AAAyB;AACrB;AACH;AAAS,IAFjB,QAAQ,CAAC,KAAU,EAAE,KAAU;AAAK;AACpB,YAAV,KAAK,GAAG,KAAK;AACpB,QAAG,OAAO,KAAK,EAAE;AACjB,YAAK,IAAI,KAAK,KAAK,KAAK;AAAG,gBAAD,OAAO,IAAI,CAAC;AACtC,YAAK,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,SAAI;AACJ,QAAG,OAAO,KAAK,CAAC;AAChB,KAAE;AAEH;AAAS;AAAoB;AAAS,IAApC,kBAAkB;AAAM,QACtB,OAAO,aAAa,CAAC,iEAAiE,CAAC,CAAC;AAC3F,KAAE;AAEH;AAAS;AAAoB;AAC1B,IADD,kBAAkB;AAAM,QACtB,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;AAClC,YAAK,aAAa,CAAC,UAAU,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC;AACxD,SAAI;AACJ,QAAG,OAAO,aAAa,CAAC,UAAU,CAAC;AACnC,KAAE;AAEH;AAAS;AAAsB;AAAwB;AACtD;AAAS,IADR,gBAAgB,CAAC,EAAO,EAAE,MAAgB,QAAQ;AAAK,QACrD,EAAE,CAAC,UAAU,GAAG,GAAG,CAAC,sBAAsB,EAAE,CAAC;AAChD,QAAG,EAAE,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC;AAC7B,QAAG,OAAO,EAAE,CAAC,UAAU,CAAC;AACxB,KAAE;AACF;AAAS;AAAsB;AAAoB;AAAS,IAA3D,aAAa,CAAC,EAAO,IAAsB,OAAO,EAAE,CAAC,UAAU,CAAC,EAAE;AAEpE;AAAS;AAAwB;AAAoB;AAAS,IAA5D,UAAU,CAAC,IAAS,IAAa,OAAO,IAAI,CAAC,QAAQ,KAAK,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;AAChG;AAAS;AAAwB;AAClB;AAAS,IADvB,aAAa,CAAC,IAAS;AAAK,QAC1B,OAAO,IAAI,CAAC,QAAQ,KAAK,aAAa,CAAC,UAAU,CAAC,YAAY,CAAC;AAClE,KAAE;AACF;AAAS;AAAwB;AAClB;AAAS,IADvB,aAAa,CAAC,IAAS;AAAK,QAC1B,OAAO,IAAI,GAAG,IAAI,CAAC,QAAQ,KAAK,aAAa,CAAC,UAAU,CAAC,YAAY,GAAG,KAAK,CAAC;AACjF,KAAE;AACF;AAAS;AAAwB;AAAoB;AAAS,IAA7D,aAAa,CAAC,IAAS,IAAa,OAAO,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE;AACtE;AAAS;AAAwB;AAAoB;AAAS,IAA7D,YAAY,CAAC,IAAS,IAAa,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;AAE/E;AAAS;AAAsB;AACxB;AACP;AAAS,IAFP,WAAW,CAAC,EAAW,EAAE,IAAY;AAAK,QACxC,IAAI,IAAI,KAAK,MAAM,EAAE;AACxB;AACO;AACO,YAAT,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;AAC1C,SAAI;AAAE,aAAI,IAAI,IAAI,KAAK,WAAW,EAAE;AACpC;AACO,YAAF,OAAO,EAAE,CAAC,WAAW,CAAC;AAC3B,SAAI;AACJ,QAAG,OAAO,oBAAM,EAAE,IAAE,IAAI,CAAC,CAAC;AAC1B,KAAE;AAEH;AAAS;AAAsB;AAC/B;AAAyB;AACP;AAAS,IAFzB,WAAW,CAAC,EAAW,EAAE,IAAY,EAAE,KAAU;AAClD,QAAG,IAAI,IAAI,KAAK,MAAM,EAAE;AACxB;AACO;AACO,YAAT,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;AAC1C,SAAI;AAAE,aAAI,IAAI,IAAI,KAAK,WAAW,EAAE;AACpC;AACO,YAAF,EAAE,CAAC,WAAW,GAAG,KAAK,CAAC;AAC5B,SAAI;AACJ,QAAG,oBAAM,EAAE,IAAE,IAAI,CAAC,GAAG,KAAK,CAAC;AAC3B,KAAE;AAEH;AAAS;AAAuB;AAA0B;AACtD;AAAS,IADX,oBAAoB,CAAC,GAAa,EAAE,MAAc;AAAK,QACrD,IAAI,MAAM,KAAK,QAAQ,EAAE;AAC5B,YAAK,OAAO,GAAG,CAAC,WAAW,CAAC;AAC5B,SAAI;AACJ,QAAG,IAAI,MAAM,KAAK,UAAU,EAAE;AAC9B,YAAK,OAAO,GAAG,CAAC;AAChB,SAAI;AACJ,QAAG,IAAI,MAAM,KAAK,MAAM,EAAE;AAC1B,YAAK,OAAO,GAAG,CAAC,IAAI,CAAC;AACrB,SAAI;AACJ,QAAG,OAAO,IAAI,CAAC;AACf,KAAE;AAEH;AAAS;AAAuB;AACnB;AAAS,IADpB,WAAW,CAAC,GAAa;AAAK;AACb,cAAT,IAAI,GAAG,IAAI,CAAC,aAAa,oBAAC,GAAG,CAAC,eAAe,IAAI,MAAM,CAAC;AACjE;AACO,YADA,IAAI,GAAG,EAAE;AAChB,QAAG,IAAI,IAAI,EAAE;AACb,YAAK,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC/B,SAAI;AACJ;AACK,QAAF,OAAO,IAAI,CAAC;AACf,KAAE;AAEH;AAAS;AACA;AAA2B;AAAoB;AACvD,IADC,mBAAmB,CAAC,OAAY;AAAK;AACtC,cAAS,QAAQ,GAA6B,EAAE;AAChD;AAA0B,cAAjB,cAAc,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC;AACvD,QAAG,IAAI,cAAc,EAAE;AACvB;AAA8B,kBAAnB,SAAS,GAAG,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC;AAClD,YAAK,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAChD;AAAkC,sBAArB,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;AACxC,gBAAO,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7B;AAAsC,0BAAvB,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;AAC9C,oBAAS,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;AAChC,wBAAW,MAAM,IAAI,KAAK,CAAC,sBAAsB,KAAK,EAAE,CAAC,CAAC;AAC1D,qBAAU;AACV;AAAsC,0BAAvB,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE;AACxD,oBAAS,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAC9D,iBAAQ;AACR,aAAM;AACN,SAAI;AACJ,QAAG,OAAO,QAAQ,CAAC;AACnB,KAAE;AACF;AAAS;AACA;AAA2B;AAA4B;AACvD;AAAS,IADjB,oBAAoB,CAAC,OAAY,EAAE,QAAkC;AACtE;AAA0B,YAAnB,cAAc,GAAG,EAAE;AAC1B,QAAG,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;AAC/B;AAA8B,kBAAnB,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC;AACnC,YAAK,IAAI,QAAQ,EAAE;AACnB,gBAAO,cAAc,IAAI,GAAG,GAAG,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACzD,aAAM;AACN,SAAI;AACJ,QAAG,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AACjD,KAAE;AACF;AAAS;AAA2B;AAA6B;AACzC;AAAoB;AAAS,IADpD,QAAQ,CAAC,OAAY,EAAE,SAAiB,EAAE,UAAwB;AACnE,QAAG,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;AAC3E;AAA0B,cAAjB,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;AACrD,QAAG,QAAQ,CAAC,SAAS,CAAC,GAAG,UAAU,IAAI,EAAE,CAAC;AAC1C,QAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;AAChD,KAAE;AACF;AAAS;AAA2B;AACpB;AAAoB;AAC7B,IAFN,WAAW,CAAC,OAAY,EAAE,SAAiB;AAC5C;AACK;AACK,QAAP,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;AACzC,KAAE;AACF;AAAS;AAA2B;AACzB;AAAoB;AAAS,IADvC,QAAQ,CAAC,OAAY,EAAE,SAAiB;AAAK;AAC5B,cAAT,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;AACrD,QAAG,OAAO,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AACpC,KAAE;AACF;AAAS;AAA2B;AAA6B;AAC7C;AAAoB;AAAS,IADhD,QAAQ,CAAC,OAAY,EAAE,SAAiB,EAAE,UAAmB;AAAK;AAClD,cAAR,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,CAAC;AAClD,QAAG,OAAO,UAAU,GAAG,KAAK,IAAI,UAAU,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AAC9D,KAAE;AAEH;AAAS;AAAsB;AACf;AAER;AAAS,IAHf,aAAa,CAAC,EAAQ,EAAE,GAAQ;AACjC,QAAG,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AAE1B;AACK;AAA0B,cAArB,GAAG,GAAG,EAAE,CAAC,aAAa,IAAI,EAAE;AACrC;AAA0B,cAAjB,GAAG,GAAG,oBAAC,GAAG,IAAS,WAAW;AACvC,QAAG,IAAI,GAAG,EAAE;AACZ,YAAK,GAAG,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AAC5B,SAAI;AACJ,KAAE;AAEH;AAAS;AAAoB;AAAS,IAApC,UAAU,KAAc,MAAM,eAAe,CAAC,YAAY,CAAC,CAAC,EAAE;AAC/D;AAAS;AAAoB;AAAS,IAArC,WAAW,KAAe,MAAM,eAAe,CAAC,aAAa,CAAC,CAAC,EAAE;AAClE;AAAS;AAAoB;AAAS,IAArC,YAAY,KAAa,OAAO,iBAAiB,CAAC,EAAE;AAEtD;AAAS;AAAoB;AAAS,IAApC,oBAAoB,KAAc,OAAO,KAAK,CAAC,EAAE;AAClD;AAAS;AAAoB;AAAS,IAArC,cAAc,KAAa,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE;AAChD;AAAS;AAAoB;AAAS,IAArC,kBAAkB,KAAa,OAAO,EAAE,CAAC,EAAE;AAC5C;AAAS;AAAoB;AAAS,IAArC,gBAAgB,KAAa,OAAO,eAAe,CAAC,EAAE;AACvD;AAAS;AAAoB;AAAS,IAArC,iBAAiB,KAAc,OAAO,IAAI,CAAC,EAAE;AAE/C;AAAS;AAAsB;AAAoB;AAAS,IAA1D,mBAAmB,CAAC,EAAO,IAAY,MAAM,eAAe,CAAC,qBAAqB,CAAC,CAAC,EAAE;AAExF;AAAS;AAAoB;AAAS,IAApC,eAAe,KAAc,OAAO,KAAK,CAAC,EAAE;AAC7C;AAAS;AAAwB;AAAoB;AAAS,IAA7D,SAAS,CAAC,IAAY,IAAY,MAAM,eAAe,CAAC,WAAW,CAAC,CAAC,EAAE;AACxE;AAAS;AAAwB;AAAyB;AAAoB;AAE1E,IAFH,SAAS,CAAC,IAAY,EAAE,KAAa,IAAI,MAAM,eAAe,CAAC,WAAW,CAAC,CAAC,EAAE;AAC/E,CAAA;AACA;AAAc;AAAS;AAAkB;AAAiB;AAAS,IAlLlE,yBAAoC;AAEtC;AAAG;AAAE;AAAK;AAAmC;AAOb;AAAK;AAAK;AAIvB;AAAI;AAAgB;ACxCvC,MAAa,aAAa;AACzB;AAAS;AAAwB;AAAS,IAAzC,YAAsC,IAAS;AACjD,QADwC,SAAI,GAAJ,IAAI,CAAK;AAAE,KAAE;AAErD;AACG;AAEH;AAAoB;AAAS,IAA3B,cAAc,KAAa,OAAO,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;AAEnE;AACG;AAEH;AAAoB;AAAS,IAA3B,WAAW,KAAU,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;AACzC;2CAbA,UAAU;uGACR;AAAE;AAAoB;AACW,4CAArB,MAAM,SAAC,QAAQ;AAAS;;;;;;kCAAE;AAAE;AAEzC;AACG;AAAkB;AAAiB;AAAS,IAHnC,6BAAmC;AAAE;AACnD;AACC;AACD;AAAmC;AAKJ;AAC/B;AAAK;AACO;AAEE;AAAI;AAA4E;AAA4D;AAAK;AAAkB,MCvB3K,IAAI,GAAQ,OAAO,CAAC,MAAM,CAAC;AAEjC,MAOa,SAAS;AAAI;AAAS;AAC3B;AAAS,IAAf,KAAK,KAAqB,OAAO,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE;AAC9D;uCAHA,UAAU;;;;0BACR;AAAE;AAAK;AAAc;AAAmB;AAI3C,MAAsB,oBAAoB;AAAI;AAC1C;AAA2B;AAChB;AAAS,IADtB,IAAI,CAAC,OAAU;AAAK,QAClB,OAAO,IAAI,UAAU;AAAO;AACvB;AACP;AAAa,QAFW,CAAC,QAAqB;AAC/C;AACD,gBADU,IAAI,sBAAS,IAAI,EAAE;AAC5B;AAA8B,gBAArB,SAAS,GAAY,KAAK;AACnC;AAA8B,gBAArB,GAAG,GAAsB,IAAI;AACtC;AAA8B,gBAArB,WAAW,GAAQ,IAAI;AAChC;AAA8B,gBAArB,UAAU,GAAQ,IAAI;AAEhC;AAA8B,kBAAlB,YAAY;AAAS;AACb;AAEpB;AACgB,YAJW,CAAC,KAAW;AACtC,gBAAO,IAAI,GAAG,KAAK,CAAC;AACpB,gBAAO,SAAS,GAAG,IAAI,CAAC;AAEzB;AAAkC,sBAApB,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC9C,gBAAO,GAAG,GAAG,QAAQ,CAAC,SAAS;AAC3B;AACH;AACW;AACX,gBAHU,GAAG,IAAI,WAAW,GAAG,GAAG;AAC7B;AACc;AACA;AACZ,gBAHG,GAAG;AACd,oBAAa,IAAI,CAAC,SAAS,EAAE;AAC7B,wBAAe,MAAM,IAAI,KAAK,CACX,oFAAoF,CAAC,CAAC;AACzG,qBAAc;AACd,oBAAa,UAAU,GAAG,GAAG,CAAC;AAC9B,oBAAa,SAAS,GAAG,KAAK,CAAC;AAC/B,oBAAa,IAAI,CAAC,MAAM,EAAE,CAAC;AAC3B,iBAAY;AACN;AACY;AACX,gBAFI;AACX,oBAAa,IAAI,CAAC,SAAS,EAAE;AAC7B,wBAAe,MAAM,IAAI,KAAK,CACX,oFAAoF,CAAC,CAAC;AACzG,qBAAc;AACd,oBAAa,SAAS,GAAG,KAAK,CAAC;AAC/B,oBAAa,IAAI,CAAC,MAAM,EAAE,CAAC;AAC3B,iBAAY,EAAC,CAAC;AACd,aAAM,CAAA;AAEP;AAA8B,kBAAlB,UAAU;AAAS;AACX;AAEhB;AACO,YAJc,CAAC,KAAW;AACpC,gBAAO,IAAI,CAAC,SAAS,EAAE;AACvB,oBAAS,OAAO;AAChB,iBAAQ;AACR,gBAAO,SAAS,GAAG,KAAK,CAAC;AACzB,gBAAO,IAAI,GAAG,EAAE;AAChB,oBAAS,GAAG,CAAC,WAAW,EAAE,CAAC;AAC3B,oBAAS,GAAG,GAAG,IAAI,CAAC;AACpB,iBAAQ;AACR,aAAM,CAAA;AAEP;AAA8B,kBAAlB,UAAU;AAAS;AACL;AAClB,YAFiB;AACxB,gBAAO,IAAI,UAAU,KAAK,IAAI,EAAE;AAChC,oBAAS,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACpC,iBAAQ;AAAE,qBAAI;AACd,oBAAS,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACpC,oBAAS,QAAQ,CAAC,QAAQ,EAAE,CAAC;AAC7B,iBAAQ;AACR,aAAM,CAAA;AAEP;AACO;AACO;AACO;AAA8B,kBAAvC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CACxC,gCAAgC,EAAE,UAAU,EAAE,EAAE;AAAQ;AACzD;AAAiB,YADkC,MAAM,IAAI,GAAE,UAAU,CAAC;AAClF,YAAK,YAAY,CAAC,KAAK,CAAC,CAAC;AAE1B,YAAM;AAAa;AACO;AAChB,YAFG;AACZ,gBAAO,IAAI,SAAS,IAAI,IAAI,EAAE;AAC9B,oBAAS,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAS,SAAS,GAAG,KAAK,CAAC;AAC3B,iBAAQ;AACR,gBAAO,IAAI,GAAG,EAAE;AAChB,oBAAS,GAAG,CAAC,WAAW,EAAE,CAAC;AAC3B,oBAAS,GAAG,GAAG,IAAI,CAAC;AACpB,iBAAQ;AACR,aAAM,EAAC;AACP,SAAI,EAAC,CAAC;AACN,KAAE;AAEH,CACC;AAED;AAAc;AAAS;AACrB;AAAmB;AAA2B;AAAoB;AAAS,IAJ3E,iEAAuD;AACxD;AAED,MAAa,iBAAkB,SAC3B,oBAAsD;AAAI;AAAS;AACzD;AAAS,IAArB,YAAoB,OAAoB;AAAK,QAAD,KAAK,EAAE,CAAC;AAAE,QAAlC,YAAO,GAAP,OAAO,CAAa;AAAE,KAAY;AAExD;AAAS;AAA2B;AAAoB;AAAS,IAA/D,MAAM,CAAC,OAAyB,IAAgC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE;AAE9F;AAAS;AAAmB;AAA2B;AAAoB;AACrE,IADM,QAAQ,CAAC,OAAyB;AAAK,QAC/C,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACvC,KAAE;AACF,CAAA;AAED;AAAc;AAAS;AAAkB;AAAiB;AAAS,IATrD,oCAA4B;AAAE;AAAG;AAAK;AAEnC;AAAwB;AAAgB;AAOzD,SAAgB,8BAA8B,CAAC,OAAoB,EAAE,QAAkB;AACtF;AAAsB,UAAf,WAAW,GAAgB,IAAIC,wBAAuB,CAAC,OAAO,EAAE,QAAQ,CAAC;AAChF,IAAC,OAAO,IAAI,iBAAiB,CAAC,WAAW,CAAC,CAAC;AAC3C,CAAA;AAED;AAAA,MAAa,qBAAqB,GAAe;AAChD,IAAC,EAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAC,EAAE;AAC7C,QAAG,OAAO,EAAE,WAAW;AACvB,QAAG,UAAU,EAAE,8BAA8B;AAC7C,QAAG,IAAI,EAAE,CAAC,WAAW,EAAE,QAAQ,CAAC;AAChC,KAAE;AACF,CAAA;AACA;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAK;AAAqD;AAAI;AAAgB;AAAY;AC5GjR,6BAGC;AAED;AACU;AAAgC,IALxC,kCAAkB;AACnB;AAIS,IAJR,6BAAa;AACd;AAEA;AACC;AAEF;AAAI;AAEF;AAAc;AAAhB,MAAa,cAAc,GAAG,IAAI,cAAc,CAAiB,uBAAuB,CAAC;AAEzF;AACC;AACC;AAEF;AAAI;AAEF;AAAc;AAAhB,MAAa,qBAAqB,GAC9B,IAAI,cAAc,CAAoB,2BAA2B,CAAC;AACrE;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAK;AAAsB;AAAgB;ACnBlO,SAAS,QAAQ,CAAC,MAAc;AAC/B;AAAsB,UAAf,SAAS,GAAGC,KAAS,CAAC,MAAM,CAAC;AACpC,IAAC,OAAO;AACR,QAAG,QAAQ,EAAE,SAAS,CAAC,QAAQ,IAAI,EAAE;AACrC,QAAG,QAAQ,EAAE,SAAS,CAAC,QAAQ,IAAI,EAAE;AACrC,QAAG,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,EAAE;AAC7B,QAAG,QAAQ,EAAE,SAAS,CAAC,QAAQ,IAAI,EAAE;AACrC,QAAG,MAAM,EAAE,SAAS,CAAC,MAAM,IAAI,EAAE;AACjC,QAAG,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,EAAE;AAC7B,KAAE,CAAC;AACH,CAAA;AAED;AACC;AACC;AACC;AAEH,MAAa,sBAAsB;AAAI;AAAS;AAC1C;AAA2B;AAC7B,IAQF,YAC8B,IAAS,EAAsC,OAAY;AAC1F,QAD+B,SAAI,GAAJ,IAAI,CAAK;AAAE,QAVzB,SAAI,GAAW,GAAG,CAAC;AACpC,QAAiB,aAAQ,GAAW,GAAG,CAAC;AACxC,QAAiB,aAAQ,GAAW,GAAG,CAAC;AACxC,QAAiB,SAAI,GAAW,GAAG,CAAC;AACpC,QAAiB,aAAQ,GAAW,GAAG,CAAC;AACxC,QAAiB,WAAM,GAAW,EAAE,CAAC;AACrC,QAAiB,SAAI,GAAW,EAAE,CAAC;AACnC,QAAS,gBAAW,GAAG,IAAI,OAAO,EAAuB,CAAC;AAE3D;AACW,cACD,MAAM,sBAAG,OAAO,EAAyB;AAClD,QAAG,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;AACjC;AAA8B,kBAAnB,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC;AAC3C,YAAK,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;AACxC,YAAK,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;AACxC,YAAK,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;AAChC,YAAK,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;AACxC,YAAK,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AACpC,YAAK,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;AAChC,SAAI;AACJ,KAAE;AAEH;AAAS;AAAoB;AAAS,IAApC,kBAAkB,KAAa,0BAAOC,OAAM,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;AAE5E;AAAS;AAAsB;AAC7B;AAAS,IADT,UAAU,CAAC,EAA0B;AAAK;AAE5C;AAGA,KAFG;AAEH;AAAS;AAAsB;AAAoB;AAAS,IAA1D,YAAY,CAAC,EAA0B,IAAU,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;AAEpF;AAAS;AAAoB;AAAS,IAApC,IAAI,GAAG,KAAa,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE;AAE5E;AAAS;AAAiB;AAC1B;AAA0B;AACX;AAAS,IAFd,OAAO,CAAC,KAAa,EAAE,MAAc;AAC9C,QAAG,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;AAC5B;AACO,YAAF,OAAO;AACZ,SAAI;AACJ,QAAG,oBAAC,IAAI,IAAmB,IAAI,GAAG,KAAK,CAAC;AACxC;AAA0B,cAAjB,MAAM,GAAG,IAAI,CAAC,GAAG;AAC1B,QAAG,iBAAiB;AAAO;AAC5B;AAAa,QADS,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,oBAAC;AACjD,YAAK,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM;AACpD,SAAI,GAAwB,EAAC,CAAC;AAC9B,KAAE;AAEH;AAAS;AAAyB;AAAyB;AACxC;AACT;AAAS,IAFjB,YAAY,CAAC,KAAU,EAAE,KAAa,EAAE,MAAc;AAAK;AACxC,cAAX,MAAM,GAAG,IAAI,CAAC,GAAG;AAC1B;AAA0B,cAAjB,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC;AACrC,QAAG,oBAAC,IAAI,IAAuB,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;AAC7D,QAAG,oBAAC,IAAI,IAAqB,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AACvD,QAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACxC,KAAE;AAEH;AAAS;AAAyB;AAAyB;AACrC;AAAoB;AAGzC,IAJC,SAAS,CAAC,KAAU,EAAE,KAAa,EAAE,MAAc;AAAK,QACtD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AAC3C,KAAE;AAEH;AAAS;AAAoB;AAAS,IAApC,OAAO,KAAW,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC,EAAE;AAEzD;AAAS;AAAoB;AAAS,IAApC,IAAI,KAAW,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC,EAAE;AAEtD;AACG;AAAS;AAAoB;AAAS,IAAvC,QAAQ,KAAc,OAAO,SAAS,CAAC,EAAE;AAC1C;oDAlEA,UAAU;kIACR;AAAE;AAAoB;AACjB,4CAUD,MAAM,SAAC,QAAQ;AAAU,4CAAY,QAAQ,YAAI,MAAM,SAAC,cAAc;AAAS;;;;;;;;;;;kCAAE;AAAE;AACjF;AAAsB,IAX7B,sCAAmC;AACpC;AAAsB,IAArB,0CAAuC;AACxC;AAAsB,IAArB,0CAAuC;AACxC;AAAsB,IAArB,sCAAmC;AACpC;AAAsB,IAArB,0CAAuC;AACxC;AAAsB,IAArB,wCAAoC;AACrC;AAAsB,IAArB,sCAAkC;AACnC;AAAS;AAAkB;AAAiB;AAAS,IAApD,6CAAyD;AAE3D;AAAS;AACG;AAAiB;AAAS,IAAhC,sCAAmC;AAAE;AAAG;AAAK;AAAkB;AAAgB;AAwDrF,SAAgB,iBAAiB,CAAC,EAAY;AAC7C,IAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;AACzD,CAAA;AACA;AAAE;AAAK;AAAmC;AAAuI;AAAK,MC1F1K,wBAAwB;AACpC;AAAS;AAAuB;AAAS,IAAxC,YAAsC,GAAQ;AAChD,QADwC,QAAG,GAAH,GAAG,CAAK;AAAE,KAAE;AAEpD;AACG;AAAS;AAA6B;AAE5B;AAAS,IAFpB,QAAQ,CAAC,SAAiB,IAAI,OAAO,IAAI,CAAC,EAAE;AAE9C;AAAS;AAA2B;AAA6B;AAChE;AAAoB;AAAS,IAD5B,gBAAgB,CAAC,OAAoB,EAAE,SAAiB,EAAE,OAAiB;AAAK,QAC9E,OAAOA,OAAM,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;AAC5D,KAAE;AAEH;AAAS;AAA2B;AAA6B;AACjE;AAAoB;AAAS,IAD3B,sBAAsB,CAAC,OAAe,EAAE,SAAiB,EAAE,OAAiB;AAAK;AAClE,cAAP,MAAM,GAAgBA,OAAM,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC;AAC/E,QAAG,IAAI,CAAC,MAAM,EAAE;AAChB,YAAK,MAAM,IAAI,KAAK,CAAC,4BAA4B,MAAM,cAAc,SAAS,EAAE,CAAC,CAAC;AAClF,SAAI;AACJ,QAAG,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;AAC5D,KAAE;AACF;sDAlBA,UAAU;8RACR;AAAE;AAAoB;AAAmD,4CAC7D,MAAM,SAAC,QAAQ;AAAS;;;;;;kCAAE;AAAE;AAExC;AAAS;AAAkB;AACrB;AAAS,IAHJ,uCAAkC;AAAE;AAClD;AACC;AAAK;AACH;AAEuF;AACtF;AAAkB,MCPhB,WAAW,GAAU,EAAE;AAE7B;AAAkB,MAAZ,cAAc,GAAG,IAAI,wBAAwB,EAAE;AAGrD,MAAa,sBAAsB;AAAI;AAAS;AAClC;AAA0B;AAC/B;AACF;AAAS,IAEd,YACY,YAA0B,EAAU,MAAc,EAChC,QAAa,EAAU,gBAAkC;AACxF,QAFa,iBAAY,GAAZ,YAAY,CAAc;AAAE,QAAQ,WAAM,GAAN,MAAM,CAAQ;AAChE,QAAgC,aAAQ,GAAR,QAAQ,CAAK;AAAE,QAAQ,qBAAgB,GAAhB,gBAAgB,CAAkB;AAAE,QANjF,qBAAgB,GAAG,IAAI,GAAG,EAAqB,CAAC;AACzD,QACS,WAAM,GAAG,cAAc,CAAC;AAElC,QAGI,IAAI,CAAC,eAAe,GAAG,IAAI,sBAAsB,CAAC,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;AAClG,KAAE;AAEH;AAAS;AAA2B;AAAwB;AAClD;AAAS,IADjB,cAAc,CAAC,OAAY,EAAE,IAAwB;AAAK,QACxD,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,EAAE;AAC1B,YAAK,OAAO,IAAI,CAAC,eAAe,CAAC;AACjC,SAAI;AACJ,QAAG,QAAQ,IAAI,CAAC,aAAa;AAC7B,YAAK,KAAK,iBAAiB,CAAC,MAAM,CAAC;AACnC,YAAK,KAAK,iBAAiB,CAAC,QAAQ,EAAE;AACtC;AAAkC,oBAAvB,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;AACxD,gBAAO,IAAI,CAAC,QAAQ,EAAE;AACtB,oBAAS,QAAQ,GAAG,IAAI,oCAAoC,CAC/C,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,EACjF,IAAI,CAAC,CAAC;AACnB,oBAAS,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;AACtD,iBAAQ;AACR,gBAAO,oBAAuC,QAAQ,IAAE,WAAW,CAAC,OAAO,CAAC,CAAC;AAC7E,gBAAO,OAAO,QAAQ,CAAC;AACvB,aAAM;AACN,YAAK,SAAS;AACd,gBAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;AAChD;AAAsC,0BAAvB,MAAM,GAAGC,cAAa,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC;AAC/D,oBAAS,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AACjD,oBAAS,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;AAClE,iBAAQ;AACR,gBAAO,OAAO,IAAI,CAAC,eAAe,CAAC;AACnC,aAAM;AACN,SAAI;AACJ,KAAE;AAEH;AAAS;AAIP;AAAS,IAJT,KAAK,MAAK;AACX;AAAS;AAGM;AAAS,IAHvB,GAAG,MAAK;AACT;oDA1CA,UAAU;kIACR;AAAE;AAAoB;AACjB,YARA,YAAY;AAAK,YADG,MAAM;AAAK,4CAehC,MAAM,SAAC,QAAQ;AAAU,YAd8CC,iBAAgB;AAAI;;;;;;sEAAE;AAAE;AAAc;AAAS;AAAkB;AAAiB;AAAS,IAQvK,kDAAwD;AACzD;AAAS;AAAkB;AACrB;AAAS,IADd,iDAAmC;AACpC;AAAS;AAAkB;AAEnB;AACN,IAHD,wCAAgC;AAElC;AAAS;AACG;AAAiB;AAAS,IAAhC,8CAAkC;AAAE;AAAS;AAChD;AAAiB;AAAS,IADa,wCAAsB;AAChE;AAAS;AAAkB;AAAiB;AAAS,IAA/C,0CAAuC;AAAE;AAAS;AAAkB;AAAiB;AACpF,IADwC,kDAA0C;AAAE;AAoC3F,MAAM,sBAAsB;AAAI;AAAS;AACpB;AAA4B;AAG1C;AAA0B;AAAS,IADxC,YACY,YAA0B,EAAY,QAAa,EAAU,MAAc,EAC3E,MAAgC;AAC9C,QAFc,iBAAY,GAAZ,YAAY,CAAc;AAAE,QAAU,aAAQ,GAAR,QAAQ,CAAK;AAAE,QAAQ,WAAM,GAAN,MAAM,CAAQ;AACzF,QAAc,WAAM,GAAN,MAAM,CAA0B;AAAE,QAJ9C,SAAI,GAAyB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAEnD,KAEkD;AAElD;AAAS;AAEF;AAAS,IAFd,OAAO,MAAW;AAEpB;AAAS;AAEE;AAA8B;AAA8B;AACtD;AACZ,IAFH,aAAa,CAAC,IAAY,EAAE,SAAkB,EAAE,SAAe;AAAK,QAClE,IAAI,SAAS,EAAE;AAClB,YAAK,OAAOF,OAAM,EAAE,CAAC,eAAe,CAACG,eAAc,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrF,SAAI;AAEL,QAAI,OAAOH,OAAM,EAAE,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtD,KAAE;AAEH;AAAS;AAAyB;AAA8B;AAAoB;AAAS,IAA3F,aAAa,CAAC,KAAa,EAAE,SAAe,IAAS,OAAOA,OAAM,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE;AAE9F;AAAS;AAAyB;AAA8B;AAAoB;AACpF,IADE,UAAU,CAAC,KAAa,EAAE,SAAe,IAAS,OAAOA,OAAM,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE;AAE5F;AAAS;AAA0B;AAA4B;AAAoB;AACnF,IADE,WAAW,CAAC,MAAW,EAAE,QAAa,IAAUA,OAAM,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,EAAE;AAE3F;AAAS;AAA0B;AAA4B;AAExD;AAAoB;AAAS,IAFlC,YAAY,CAAC,MAAW,EAAE,QAAa,EAAE,QAAa;AAAK,QACzD,IAAI,MAAM,EAAE;AACf,YAAKA,OAAM,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACvD,SAAI;AACJ,KAAE;AAEH;AAAS;AAA0B;AACtB;AACE;AAAS,IAFtB,WAAW,CAAC,MAAW,EAAE,QAAa;AAAK,QACzC,IAAI,MAAM,EAAE;AACf,YAAKA,OAAM,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAC5C,SAAI;AACJ,KAAE;AAEH;AAAS;AAAkC;AAC1C;AACG;AAAS,IAFX,iBAAiB,CAAC,cAA0B,EAAE,SAAe;AAAK;AAE/D,YADG,EAAO;AACd,QAAG,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE;AAC3C,YAAK,EAAE,GAAGA,OAAM,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;AAChE,YAAK,IAAI,CAAC,EAAE,EAAE;AACd,gBAAO,MAAM,IAAI,KAAK,CAAC,iBAAiB,cAAc,8BAA8B,CAAC,CAAC;AACtF,aAAM;AACN,SAAI;AAAE,aAAI;AACV,YAAK,EAAE,GAAG,cAAc,CAAC;AACzB,SAAI;AACJ,QAAGA,OAAM,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;AAC3B,QAAG,OAAO,EAAE,CAAC;AACb,KAAE;AAEH;AAAS;AAAwB;AAAoB;AAAS,IAA5D,UAAU,CAAC,IAAS,IAAS,OAAOA,OAAM,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE;AAErE;AAAS;AAAwB;AAAoB;AAAS,IAA5D,WAAW,CAAC,IAAS,IAAS,OAAOA,OAAM,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE;AAEpE;AAAS;AAAsB;AAAwB;AAAyB;AAExE;AAAoB;AAAS,IAFnC,YAAY,CAAC,EAAO,EAAE,IAAY,EAAE,KAAa,EAAE,SAAkB;AAAK,QACxE,IAAI,SAAS,EAAE;AAClB,YAAKA,OAAM,EAAE,CAAC,cAAc,CAAC,EAAE,EAAEG,eAAc,CAAC,SAAS,CAAC,EAAE,SAAS,GAAG,GAAG,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;AAC3F,SAAI;AAAE,aAAI;AACV,YAAKH,OAAM,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AAC5C,SAAI;AACJ,KAAE;AAEH;AAAS;AAAsB;AAAwB;AACvC;AACD;AAAS,IAFtB,eAAe,CAAC,EAAO,EAAE,IAAY,EAAE,SAAkB;AAAK,QAC5D,IAAI,SAAS,EAAE;AAClB,YAAKA,OAAM,EAAE,CAAC,iBAAiB,CAAC,EAAE,EAAEG,eAAc,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,CAAC;AACrE,SAAI;AAAE,aAAI;AACV,YAAKH,OAAM,EAAE,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;AACxC,SAAI;AACJ,KAAE;AAEH;AAAS;AAAsB;AAAwB;AAEtD;AAAS,IAFR,QAAQ,CAAC,EAAO,EAAE,IAAY,IAAUA,OAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE;AAExE;AAAS;AAAsB;AAAwB;AAAoB;AAEvE,IAFF,WAAW,CAAC,EAAO,EAAE,IAAY,IAAUA,OAAM,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE;AAE9E;AAAS;AAAsB;AAAyB;AAAyB;AAC1D;AACrB;AAEI,IAJJ,QAAQ,CAAC,EAAO,EAAE,KAAa,EAAE,KAAU,EAAE,KAA0B;AAAK,QAC1EA,OAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AACvC,KAAE;AAEH;AAAS;AAAsB;AAAyB;AACjD;AAAoB;AAAS,IADlC,WAAW,CAAC,EAAO,EAAE,KAAa,EAAE,KAA0B;AAAK,QACjEA,OAAM,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AACnC,KAAE;AAEH;AACG;AACG;AACG;AACG;AAAS;AAAiB;AAA2B;AACrD;AAAoB;AAAS,IAD/B,wBAAwB,CAAC,OAAe,EAAE,YAAoB;AAAK,QACzE,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC;AAClE,YAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;AACjE,KAAE;AAEH;AAAS;AAAsB;AAAwB;AAChC;AAAoB;AACnC,IAFN,WAAW,CAAC,EAAO,EAAE,IAAY,EAAE,KAAU;AAAK,QAChD,oBAAoB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;AAC1C,QAAGA,OAAM,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AACzC;AACK;AACK;AACK;AAA0B,cAAhC,OAAO,GAAG,oBAAC,EAAE,CAAC,OAAO,IAAY,WAAW,EAAE;AACvD,QAAG,IAAI,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,IAAI,QAAQ,CAAC;AAC/E,YAAO,IAAI,CAAC,WAAW,EAAE,KAAK,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC;AACzF,YAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,WAAW,CAAC;AAC1D,YAAO,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;AACrD,YAAK,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;AACnD,SAAI;AACJ,KAAE;AAEH;AAAS;AAAwB;AAAyB;AAC1D;AACQ,IAFN,QAAQ,CAAC,IAAS,EAAE,KAAa,IAAUA,OAAM,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,EAAE;AAE7E;AAAS;AACgB;AAA6B;AACrC;AAAoB;AAAS,IAF5C,MAAM,CACF,MAAsC,EAAE,SAAiB,EACzD,QAAiC;AAAK,QACxC,oBAAoB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AAC/C,QAAG,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;AACnC,YAAK,0BAAmB,IAAI,CAAC,YAAY,CAAC,sBAAsB,CACvD,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,GAAC;AACnE,SAAI;AACJ,QAAG,6CAAmB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAC1C,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,KAAc;AACrF,KAAE;AAEH;AAAS;AAAiB;AAAgC;AACjD;AAAS,IADR,sBAAsB,CAAC,YAAsB;AAAK,QACxD;AAAa;AACA;AAAwB;AAAa,QAD3C,CAAC,KAAU;AACrB;AACO;AACO;AAA8B,kBAAjC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU;AAAO;AAC1D;AAAiB,YADmC,MAAM,YAAY,CAAC,KAAK,CAAC,EAAC;AACnF,YAAK,IAAI,oBAAoB,KAAK,KAAK,EAAE;AACzC,gBAAO,KAAK,CAAC,cAAc,EAAE,CAAC;AAC9B,gBAAO,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;AACjC,aAAM;AACN,SAAI,EAAC;AACL,KAAE;AACF,CAAA;AAED;AAAc;AAAsB,IArIlC,sCAAiD;AAEnD;AACO,IAKL,6CAAkB;AAEpB;AAAS;AAAkB;AAAiB;AAAS,IAP/C,8CAAkC;AAAE;AAAS;AAAkB;AAAmB;AAClF,IADoC,0CAAuB;AAAE;AAAS;AACzE;AAAiB;AAAS,IADsC,wCAAsB;AACzF;AAAS;AAAkB;AAAiB;AAE3C,IAFK,wCAAwC;AAAE;AAChD;AACiB,MA+HX,WAAW,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;AACpC;AAAK;AAAoB;AAAwB;AAChD;AADF,SAAS,oBAAoB,CAAC,IAAY,EAAE,QAAgB;AAC3D,IAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;AACzC,QAAG,MAAM,IAAI,KAAK,CACX,uBAAuB,QAAQ,IAAI,IAAI,kGAAkG,CAAC,CAAC;AAClJ,KAAE;AACF,CAAA;AAED,MAAM,oCAAqC,SAAQ,sBAAsB;AACxE;AAAS;AACC;AAED;AACW;AAAoC;AAA0B;AACxE;AAAS,IAFlB,YACI,YAA0B,EAAE,QAAa,EAAE,MAAc,EAAE,gBAAkC,EAC7F,MAAgC,EAAU,SAAwB;AACvE,QAAG,KAAK,CAAC,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;AACjD,QAF+C,cAAS,GAAT,SAAS,CAAe;AAAE;AAE1D;AAA0B,cAChC,WAAW,GAAG,GAAG,GAAG,SAAS,CAAC,EAAE;AACzC;AAA0B,cAAjB,MAAM,GAAGC,cAAa,CAAC,WAAW,EAAE,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC;AAClE,QAAG,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AAEvC,QAAI,IAAI,CAAC,WAAW,GAAGG,qBAAoB,CAAC,WAAW,CAAC,CAAC;AACxD,QAAG,IAAI,CAAC,QAAQ,GAAGC,kBAAiB,CAAC,WAAW,CAAC,CAAC;AAClD,KAAE;AAEH;AAAS;AAA2B;AAAoB;AAAS,IAA/D,WAAW,CAAC,OAAY,IAAI,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,EAAE;AAE/E;AAAS;AAA0B;AAC9B;AAAoB;AAAS,IADhC,aAAa,CAAC,MAAW,EAAE,IAAY;AAAK;AAC5B,cAAR,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC;AAC9D,QAAG,KAAK,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;AAChD,QAAG,OAAO,EAAE,CAAC;AACb,KAAE;AACF,CAAA;AACA;AAAc;AAAS;AAAkB;AAAiB;AAAS,IAxBlE,2DAA4B;AAC7B;AAAS;AACV;AAEC;AAAS,IAHR,wDAAyB;AAE3B;AAAS;AACG;AAAiB;AAAS,IACE,yDAAgC;AAAE;AACzE;AAAE;AAAK;AAAmC;AAGxB;AAAK,MCxMX,gBAAiB,SAAQH,iBAAgB;AACrD;AAAS;AAEN;AACiB;AAAS,IAD5B,YAC8B,GAAQ,EACU,YAAoB;AACtE,QAAI,KAAK,EAAE,CAAC;AACX,QAH+B,QAAG,GAAH,GAAG,CAAK;AACxC,QAAkD,iBAAY,GAAZ,YAAY,CAAQ;AAAE,QAJ9D,SAAI,GAAQ,IAAI,CAAC;AAE3B,QAII,IAAI,CAAC,IAAI,GAAGF,OAAM,EAAE,CAAC,oBAAoB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,KAAE;AAEH;AAAS;AAAiB;AAClB;AACR;AAAS,IAFC,SAAS,CAAC,KAAa;AAAK;AACjB,YAAb,OAAO,GAAGA,OAAM,EAAE;AACzB;AAA0B,cAAjB,EAAE,GAAG,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC;AAC5C,QAAG,OAAO,CAAC,OAAO,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AAC9B,QAAG,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE;AAC5B,YAAK,OAAO,CAAC,YAAY,CAAC,EAAE,EAAE,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;AAClE,SAAI;AACJ,QAAG,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AACtC,KAAE;AAEH;AAAS;AAA6B;AAAoB;AAAS,IAAjE,aAAa,CAAC,SAAsB,IAAI,SAAS,CAAC,OAAO;AAAO;AAAyB;AAE7E;AAAS,IAFqC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAC,CAAC,EAAE;AAC7F;8CAtBA,UAAU;gHACR;AAAE;AAAoB;AACd,4CAGJ,MAAM,SAAC,QAAQ;AAAU,yCACzB,QAAQ,YAAI,MAAM,SAAC,cAAc;AAAS;;;;;;;;;;;kCAAE;AAAE;AAAc;AAClE;AACK;AAAiB;AAAS,IAN9B,gCAAyB;AAE3B;AAAS;AACG;AAAiB;AAAS,IAAhC,+BAAkC;AACxC;AAAS;AAAkB;AAAiB;AAAS,IAA/C,wCAAgE;AAAE;AACxE;AAAE;AAAK;AACsB;AAKJ;AAAK;AAAK;AACxB;AAAgB;ACD3B,SAAS,YAAY,CAAC,OAAe;AAAK,IACxC,MAAM,IAAI,KAAK,CAAC,qCAAqC,OAAO,IAAI,CAAC,CAAC;AACnE,CAAA;AAED;AAAA,MAAa,kCAAkC,GAAqB;AACnE,IAAC,EAAC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,EAAC;AAC7D,IAAC,EAAC,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAEM,mBAAkB,EAAC;AACrD,IAAC,EAAC,OAAO,EAAE,oBAAoB,EAAE,UAAU,EAAE,iBAAiB,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,EAAC,EAAE;AAChG,QAAG,OAAO,EAAE,gBAAgB;AAC5B,QAAG,QAAQ,EAAE,sBAAsB;AACnC,QAAG,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;AAC/C,KAAE;AACF,IAAC,EAAC,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,EAAC;AAC3C;AACG,IAAF,EAAC,OAAO,EAAEC,yBAAwB,EAAE,QAAQ,EAAE,IAAI,EAAC;AACpD,CAAA;AAED;AAAK;AAAwB;AAAgB;AAA7C,SAAS,iBAAiB,CAAC,QAAkB;AAC5C,IAAC;AAAa;AAAoB;AAAS,IAAnC,QAAQ,aAAa,CAAC,WAAW,EAAE,CAAC,EAAE,EAAC;AAC/C,CAAA;AAED;AAAK;AAAwB;AAC5B;AAAoB;AAAgB;AADrC,SAAgB,gCAAgC,CAC5C,QAA0B,EAAE,MAAwB,EAAE,IAAY;AACtE,IAAE,OAAO,IAAI,yBAAyB,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;AAC/D,CAAC;AAED;AAAA,MAAa,uBAAuB,GAAe;AAClD,IAAC,sBAAsB;AACvB,IAAC;AACD,QAAG,OAAO,EAAE,gBAAgB;AAC5B,QAAG,UAAU,EAAE,gCAAgC;AAC/C,QAAG,IAAI,EAAE,CAAC,sBAAsB,EAAE,gBAAgB,EAAE,MAAM,CAAC;AAC5D,KAAG;AACF,IAAC,gBAAgB;AACjB,IAAC,EAAC,OAAO,EAAEL,iBAAgB,EAAE,WAAW,EAAE,gBAAgB,EAAC;AAC3D,IAAC,EAAC,OAAO,EAAE,qBAAqB,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,wBAAwB,EAAC;AAClF,CAAA;AAED;AACC;AACC;AACC;AAEF;AAUD,MAAa,YAAY;AACxB;0CAXA,QAAQ,SAAC,mBACR,OAAO,EAAE,CAAC;SAAa,CAAC,mBACxB,OAAO,EAAE,CAAC,gBAAgB,EAAE;QAAoB,CAAC,mBACjD,SAAS,EAAE;GACT,uBAAuB;gBACvB;MAAqB,uBACrB,EAAC,OAAO,EAAE;CAAW,EAAE,QAAQ,EAAE,IAAI,EAAC,uBACtC,EAAC,OAAO,EAAE,gBAAgB,EAAE;OAAQ,EAAEM,qBAAoB,EAAC,oBAC5D,gBACF;;;;;;;;;;;;;;0BACK;AAAE;AAAK;AAGP;AAAgB;AAAtB,SAAS,SAAS,CAAC,QAAkB;AACpC;AAAsB,QAAjB,MAAM,GAAwB,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC;AACrE,IAAC,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE;AAChC,QAAG,OAAO,aAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AACrD,KAAE;AAAE,SAAI;AACR,QAAG,OAAOR,OAAM,EAAE,CAAC,kBAAkB,EAAE,CAAC;AACxC,KAAE;AACF,CAAA;AAED;AACC;AACE;AACU;AAAb,MAAa,cAAc,GACvB,qBAAqB,CAAC,YAAY,EAAE,QAAQ,EAAE,kCAAkC,CAAC;AAErF;AACC;AACC;AACC;AAEF;AAAc;AAAf,MAAa,qBAAqB,GAC9B,qBAAqB,CAACS,oBAAmB,EAAE,eAAe,EAAE,kCAAkC,CAAC;AAClG;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAK;AAAmB;AAAqB;AAA6B;AAAgB;ACzFjR,SAAgB,6BAA6B,CACzC,GAAa,EAAE,KAAa,EAAE,aAA4B;AAC7D,IAAC;AAAa;AACG;AAAS,IADlB;AACR;AAA0B,cAAjB,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC7C,QAAG,MAAM,CAAC,EAAE,GAAG,KAAK,GAAG,QAAQ,CAAC;AAChC,QAAG,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;AACnD,QAAG,MAAM,CAAC,WAAW,GAAGC,WAAU,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC;AAC3D,QAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAChC,KAAE,EAAC;AACH,CAAA;AAED;AACC;AACC;AAEF;AAAI;AAEF;AAUF,MAAa,yBAAyB;AACrC;uDAXA,QAAQ,SAAC,mBACR,SAAS,EAAE,uBACT;OAAa,EAAE,2BACb,OAAO,EAAE,qBAAqB,2BAC9B;QAAU,EAAE,6BAA6B,2BACzC,IAAI;AAAE,CAAC,QAAQ,EAAE,MAAM,EAAE;OAAa,CAAC,2BACvC,KAAK,EAAE;EAAI,wBACZ,mBACF;KACF;;;;;;;;;;;;;;;;0BACK;AAAE;AAAE;AAAK;AAER;AAAuI;AAAK;AAAK;AAAY;AC3BpK,8BAIC;AAED;AAAc;AACS,IANrB,mCAAkB;AACnB;AACgB,IADf,8BAAa;AACd;AAAgC,IAA/B,yCAAkC;AACnC;AAEA;AAAK;AACQ;AAAuB;AAAgB;AADrD,SAAS,YAAY,CACjB,eAAkE,EAClE,OAAwB;AAAK;AACvB,UAAF,cAAc,GAAG,OAAO,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,GAAG,EAAE;AAC5E,IAAC,OAAO,eAAe,CAAC;AACxB,QAAG,EAAC,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,EAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAC,EAAC;AACtF,QAAG,cAAc;AACjB,KAAE,CAAC,CAAC;AACJ,CAAA;AAED;AAAK;AACL;AAAwB;AAAgC;AAAgB;AADxE,SAAS,OAAO,CACZ,QAAqB,EAAE,gBAAyC;AAAK,IACvE,OAAO,gBAAgB,CAAC,IAAI;AAAO;AACnB;AAAoB;AAAS,IADhB,CAAC,SAAS;AACxC;AAA0B,cAAjB,YAAY,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC;AACrE,QAAI,IAAI,CAAC,YAAY,EAAE;AACtB,YAAK,MAAM,IAAI,KAAK,CACX;AACT,wEAAuE,CAAC,CAAC;AACzE,SAAI;AACJ;AAA0B,cAAjB,cAAc,GAAmB,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC;AAChF,QAAG,OAAO,cAAc,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK;AAAO;AAClD;AACG;AAAa,QAF4B,CAAC,QAAiB,KAAK,QAAQ,EAAC,EAAE;AAChF,aAAQ,SAAS,EAAE;AACnB,aAAQ,IAAI;AAAO;AACE;AAAa,QADrB;AACb;AAA8B,kBAAf,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC;AAEpE;AAA8B,kBAAd,aAAa,GAAmB,EAAE;AAElD;AACG;AAA8B,kBAAjB,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC;AAC9E,YAAS,IAAI,SAAS,EAAE;AACxB,gBAAW,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;AAC7C,oBAAa,IAAI;AACjB;AAA0C,8BAArB,cAAc,GAAG,QAAQ,EAAE;AAChD,wBAAe,IAAI,UAAU,CAAC,cAAc,CAAC,EAAE;AAChD,4BAAkB,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACpD,yBAAgB;AAEjB,qBAAe;AAAE,oBAAD,OAAO,CAAC,EAAE;AACzB;AACS,wBAAM,OAAO,CAAC,IAAI,CAAC,4CAA4C,EAAE,CAAC,CAAC,CAAC;AAC7E,qBAAc;AACd,iBAAY;AACZ,aAAU;AAEX;AAA8B,kBAAd,QAAQ;AAAS;AACP;AAAiB,YADhB;AAC1B;AAAkC,sBAAjB,MAAM,GAAG,aAAa,CAAC,cAAc,EAAE;AACxD,gBAAW,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC9B,gBAAW,OAAO,MAAM,CAAC;AACzB,aAAU,CAAA;AAEX,YAAU,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;AACzC,gBAAW,OAAO,QAAQ,EAAE,CAAC;AAC7B,aAAU;AAEX,YAAU,OAAO,OAAO;AACvB,iBAAc,GAAG,CAAC,aAAa,CAAC,GAAG;AAAO;AACf;AACf;AAAiB,YAFO,YAAY;AAChD,gBAAe,OAAO,YAAY,CAAC,KAAK;AACpC;AAAiC;AAAgC;AAAqB,gBAAvE,CAAC,MAAM,OAAO,CAAC,IAAI,CAAC,4CAA4C,EAAE,CAAC,CAAC,CAAC,EAAE,EAAC,CAAC;AAC5F,aAAc,EAAC,CAAC;AAChB,iBAAc,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC7B,SAAQ,EAAC,CAAC;AACV,KAAE,EAAC,CAAC;AACJ,CAAA;AAED;AACC;AACC;AACC;AACC;AACC;AAEF;AAAI;AACE;AAED;AAAI;AAEF;AAAgB;AACX;AAAuB;AAAgB;AADtD,SAAgB,YAAY,CACxB,MAAe,EAAE,OAA6E;AAChG;AACA,UAAM,QAAQ,GAAG,YAAY,CAAC,qBAAqB,EAAE,OAAO,CAAC;AAC9D,IAAC,OAAO,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5D,CAAA;AAED;AACC;AAED;AAAI;AACC;AACC;AAEF;AAAI;AAEF;AAAgB;AACX;AAAuB;AACvB;AAFX,SAAgB,mBAAmB,CAC/B,aAAiC,EACjC,OAA6E;AAC/E;AACA,UAAM,QAAQ,GAAG,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC;AACvD,IAAC,OAAO,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC;AAC1E,CAAA;AACA;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAK;AAAgB;AAAc;ACtGhZ,MAAa,OAAO,GAAG,IAAI,OAAO,CAAC;AAClC;AAAE;AADmD,CAAC;AACZ;AAAuI;AAAK;AAAE;AAAK;AAAmC;AAAuI;AAAK;AAAE;AAAK;AAAmC;AAAuI;AAAK;ACpBniB;AACC;AACC,GAAC;AAEH;AAAE;AAM2S","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst domino = require('domino');\n\nimport {ÉµBrowserDomAdapter as BrowserDomAdapter, ÉµsetRootDomAdapter as setRootDomAdapter} from '@angular/platform-browser';\n\nfunction _notImplemented(methodName: string) {\n  return new Error('This method is not implemented in DominoAdapter: ' + methodName);\n}\n\nfunction setDomTypes() {\n  // Make all Domino types available as types in the global env.\n  Object.assign(global, domino.impl);\n  (global as any)['KeyboardEvent'] = domino.impl.Event;\n}\n\n/**\n * Parses a document string to a Document object.\n */\nexport function parseDocument(html: string, url = '/') {\n  let window = domino.createWindow(html, url);\n  let doc = window.document;\n  return doc;\n}\n\n/**\n * Serializes a document to string.\n */\nexport function serializeDocument(doc: Document): string {\n  return (doc as any).serialize();\n}\n\n/**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nexport class DominoAdapter extends BrowserDomAdapter {\n  static makeCurrent() {\n    setDomTypes();\n    setRootDomAdapter(new DominoAdapter());\n  }\n\n  private static defaultDoc: Document;\n\n  logError(error: string) { console.error(error); }\n\n  log(error: string) {\n    // tslint:disable-next-line:no-console\n    console.log(error);\n  }\n\n  logGroup(error: string) { console.error(error); }\n\n  logGroupEnd() {}\n\n  supportsDOMEvents(): boolean { return false; }\n  supportsNativeShadowDOM(): boolean { return false; }\n\n  contains(nodeA: any, nodeB: any): boolean {\n    let inner = nodeB;\n    while (inner) {\n      if (inner === nodeA) return true;\n      inner = inner.parent;\n    }\n    return false;\n  }\n\n  createHtmlDocument(): HTMLDocument {\n    return parseDocument('<html><head><title>fakeTitle</title></head><body></body></html>');\n  }\n\n  getDefaultDocument(): Document {\n    if (!DominoAdapter.defaultDoc) {\n      DominoAdapter.defaultDoc = domino.createDocument();\n    }\n    return DominoAdapter.defaultDoc;\n  }\n\n  createShadowRoot(el: any, doc: Document = document): DocumentFragment {\n    el.shadowRoot = doc.createDocumentFragment();\n    el.shadowRoot.parent = el;\n    return el.shadowRoot;\n  }\n  getShadowRoot(el: any): DocumentFragment { return el.shadowRoot; }\n\n  isTextNode(node: any): boolean { return node.nodeType === DominoAdapter.defaultDoc.TEXT_NODE; }\n  isCommentNode(node: any): boolean {\n    return node.nodeType === DominoAdapter.defaultDoc.COMMENT_NODE;\n  }\n  isElementNode(node: any): boolean {\n    return node ? node.nodeType === DominoAdapter.defaultDoc.ELEMENT_NODE : false;\n  }\n  hasShadowRoot(node: any): boolean { return node.shadowRoot != null; }\n  isShadowRoot(node: any): boolean { return this.getShadowRoot(node) == node; }\n\n  getProperty(el: Element, name: string): any {\n    if (name === 'href') {\n      // Domino tries tp resolve href-s which we do not want. Just return the\n      // attribute value.\n      return this.getAttribute(el, 'href');\n    } else if (name === 'innerText') {\n      // Domino does not support innerText. Just map it to textContent.\n      return el.textContent;\n    }\n    return (<any>el)[name];\n  }\n\n  setProperty(el: Element, name: string, value: any) {\n    if (name === 'href') {\n      // Even though the server renderer reflects any properties to attributes\n      // map 'href' to attribute just to handle when setProperty is directly called.\n      this.setAttribute(el, 'href', value);\n    } else if (name === 'innerText') {\n      // Domino does not support innerText. Just map it to textContent.\n      el.textContent = value;\n    }\n    (<any>el)[name] = value;\n  }\n\n  getGlobalEventTarget(doc: Document, target: string): EventTarget|null {\n    if (target === 'window') {\n      return doc.defaultView;\n    }\n    if (target === 'document') {\n      return doc;\n    }\n    if (target === 'body') {\n      return doc.body;\n    }\n    return null;\n  }\n\n  getBaseHref(doc: Document): string {\n    const base = this.querySelector(doc.documentElement !, 'base');\n    let href = '';\n    if (base) {\n      href = this.getHref(base);\n    }\n    // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n    return href;\n  }\n\n  /** @internal */\n  _readStyleAttribute(element: any): {[name: string]: string} {\n    const styleMap: {[name: string]: string} = {};\n    const styleAttribute = element.getAttribute('style');\n    if (styleAttribute) {\n      const styleList = styleAttribute.split(/;+/g);\n      for (let i = 0; i < styleList.length; i++) {\n        const style = styleList[i].trim();\n        if (style.length > 0) {\n          const colonIndex = style.indexOf(':');\n          if (colonIndex === -1) {\n            throw new Error(`Invalid CSS style: ${style}`);\n          }\n          const name = style.substr(0, colonIndex).trim();\n          styleMap[name] = style.substr(colonIndex + 1).trim();\n        }\n      }\n    }\n    return styleMap;\n  }\n  /** @internal */\n  _writeStyleAttribute(element: any, styleMap: {[name: string]: string}) {\n    let styleAttrValue = '';\n    for (const key in styleMap) {\n      const newValue = styleMap[key];\n      if (newValue) {\n        styleAttrValue += key + ':' + styleMap[key] + ';';\n      }\n    }\n    element.setAttribute('style', styleAttrValue);\n  }\n  setStyle(element: any, styleName: string, styleValue?: string|null) {\n    styleName = styleName.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    const styleMap = this._readStyleAttribute(element);\n    styleMap[styleName] = styleValue || '';\n    this._writeStyleAttribute(element, styleMap);\n  }\n  removeStyle(element: any, styleName: string) {\n    // IE requires '' instead of null\n    // see https://github.com/angular/angular/issues/7916\n    this.setStyle(element, styleName, '');\n  }\n  getStyle(element: any, styleName: string): string {\n    const styleMap = this._readStyleAttribute(element);\n    return styleMap[styleName] || '';\n  }\n  hasStyle(element: any, styleName: string, styleValue?: string): boolean {\n    const value = this.getStyle(element, styleName);\n    return styleValue ? value == styleValue : value.length > 0;\n  }\n\n  dispatchEvent(el: Node, evt: any) {\n    el.dispatchEvent(evt);\n\n    // Dispatch the event to the window also.\n    const doc = el.ownerDocument || el;\n    const win = (doc as any).defaultView;\n    if (win) {\n      win.dispatchEvent(evt);\n    }\n  }\n\n  getHistory(): History { throw _notImplemented('getHistory'); }\n  getLocation(): Location { throw _notImplemented('getLocation'); }\n  getUserAgent(): string { return 'Fake user agent'; }\n\n  supportsWebAnimation(): boolean { return false; }\n  performanceNow(): number { return Date.now(); }\n  getAnimationPrefix(): string { return ''; }\n  getTransitionEnd(): string { return 'transitionend'; }\n  supportsAnimation(): boolean { return true; }\n\n  getDistributedNodes(el: any): Node[] { throw _notImplemented('getDistributedNodes'); }\n\n  supportsCookies(): boolean { return false; }\n  getCookie(name: string): string { throw _notImplemented('getCookie'); }\n  setCookie(name: string, value: string) { throw _notImplemented('setCookie'); }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {Inject, Injectable} from '@angular/core';\n\nimport {serializeDocument} from './domino_adapter';\n\n/**\n * Representation of the current platform state.\n *\n * @publicApi\n */\n@Injectable()\nexport class PlatformState {\n  constructor(@Inject(DOCUMENT) private _doc: any) {}\n\n  /**\n   * Renders the current state of the platform to string.\n   */\n  renderToString(): string { return serializeDocument(this._doc); }\n\n  /**\n   * Returns the current DOM state.\n   */\n  getDocument(): any { return this._doc; }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nconst xhr2: any = require('xhr2');\n\nimport {Injectable, Injector, Provider} from '@angular/core';\n\nimport {HttpEvent, HttpRequest, HttpHandler, HttpBackend, XhrFactory, ÉµHttpInterceptingHandler as HttpInterceptingHandler} from '@angular/common/http';\n\nimport {Observable, Observer, Subscription} from 'rxjs';\n\n@Injectable()\nexport class ServerXhr implements XhrFactory {\n  build(): XMLHttpRequest { return new xhr2.XMLHttpRequest(); }\n}\n\nexport abstract class ZoneMacroTaskWrapper<S, R> {\n  wrap(request: S): Observable<R> {\n    return new Observable((observer: Observer<R>) => {\n      let task: Task = null !;\n      let scheduled: boolean = false;\n      let sub: Subscription|null = null;\n      let savedResult: any = null;\n      let savedError: any = null;\n\n      const scheduleTask = (_task: Task) => {\n        task = _task;\n        scheduled = true;\n\n        const delegate = this.delegate(request);\n        sub = delegate.subscribe(\n            res => savedResult = res,\n            err => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              savedError = err;\n              scheduled = false;\n              task.invoke();\n            },\n            () => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              scheduled = false;\n              task.invoke();\n            });\n      };\n\n      const cancelTask = (_task: Task) => {\n        if (!scheduled) {\n          return;\n        }\n        scheduled = false;\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n\n      const onComplete = () => {\n        if (savedError !== null) {\n          observer.error(savedError);\n        } else {\n          observer.next(savedResult);\n          observer.complete();\n        }\n      };\n\n      // MockBackend for Http is synchronous, which means that if scheduleTask is by\n      // scheduleMacroTask, the request will hit MockBackend and the response will be\n      // sent, causing task.invoke() to be called.\n      const _task = Zone.current.scheduleMacroTask(\n          'ZoneMacroTaskWrapper.subscribe', onComplete, {}, () => null, cancelTask);\n      scheduleTask(_task);\n\n      return () => {\n        if (scheduled && task) {\n          task.zone.cancelTask(task);\n          scheduled = false;\n        }\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n    });\n  }\n\n  protected abstract delegate(request: S): Observable<R>;\n}\n\nexport class ZoneClientBackend extends\n    ZoneMacroTaskWrapper<HttpRequest<any>, HttpEvent<any>> implements HttpBackend {\n  constructor(private backend: HttpBackend) { super(); }\n\n  handle(request: HttpRequest<any>): Observable<HttpEvent<any>> { return this.wrap(request); }\n\n  protected delegate(request: HttpRequest<any>): Observable<HttpEvent<any>> {\n    return this.backend.handle(request);\n  }\n}\n\nexport function zoneWrappedInterceptingHandler(backend: HttpBackend, injector: Injector) {\n  const realBackend: HttpBackend = new HttpInterceptingHandler(backend, injector);\n  return new ZoneClientBackend(realBackend);\n}\n\nexport const SERVER_HTTP_PROVIDERS: Provider[] = [\n  {provide: XhrFactory, useClass: ServerXhr}, {\n    provide: HttpHandler,\n    useFactory: zoneWrappedInterceptingHandler,\n    deps: [HttpBackend, Injector]\n  }\n];\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n/**\n * Config object passed to initialize the platform.\n *\n * @publicApi\n */\nexport interface PlatformConfig {\n  document?: string;\n  url?: string;\n}\n\n/**\n * The DI token for setting the initial config for the platform.\n *\n * @publicApi\n */\nexport const INITIAL_CONFIG = new InjectionToken<PlatformConfig>('Server.INITIAL_CONFIG');\n\n/**\n * A function that will be executed when calling `renderModuleFactory` or `renderModule` just\n * before current platform state is rendered to string.\n *\n * @publicApi\n */\nexport const BEFORE_APP_SERIALIZED =\n    new InjectionToken<Array<() => void>>('Server.RENDER_MODULE_HOOK');\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT, LocationChangeEvent, LocationChangeListener, PlatformLocation} from '@angular/common';\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {ÉµgetDOM as getDOM} from '@angular/platform-browser';\nimport {Subject} from 'rxjs';\nimport * as url from 'url';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n\n\nfunction parseUrl(urlStr: string) {\n  const parsedUrl = url.parse(urlStr);\n  return {\n    hostname: parsedUrl.hostname || '',\n    protocol: parsedUrl.protocol || '',\n    port: parsedUrl.port || '',\n    pathname: parsedUrl.pathname || '',\n    search: parsedUrl.search || '',\n    hash: parsedUrl.hash || '',\n  };\n}\n\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\n@Injectable()\nexport class ServerPlatformLocation implements PlatformLocation {\n  public readonly href: string = '/';\n  public readonly hostname: string = '/';\n  public readonly protocol: string = '/';\n  public readonly port: string = '/';\n  public readonly pathname: string = '/';\n  public readonly search: string = '';\n  public readonly hash: string = '';\n  private _hashUpdate = new Subject<LocationChangeEvent>();\n\n  constructor(\n      @Inject(DOCUMENT) private _doc: any, @Optional() @Inject(INITIAL_CONFIG) _config: any) {\n    const config = _config as PlatformConfig | null;\n    if (!!config && !!config.url) {\n      const parsedUrl = parseUrl(config.url);\n      this.hostname = parsedUrl.hostname;\n      this.protocol = parsedUrl.protocol;\n      this.port = parsedUrl.port;\n      this.pathname = parsedUrl.pathname;\n      this.search = parsedUrl.search;\n      this.hash = parsedUrl.hash;\n    }\n  }\n\n  getBaseHrefFromDOM(): string { return getDOM().getBaseHref(this._doc) !; }\n\n  onPopState(fn: LocationChangeListener): void {\n    // No-op: a state stack is not implemented, so\n    // no events will ever come.\n  }\n\n  onHashChange(fn: LocationChangeListener): void { this._hashUpdate.subscribe(fn); }\n\n  get url(): string { return `${this.pathname}${this.search}${this.hash}`; }\n\n  private setHash(value: string, oldUrl: string) {\n    if (this.hash === value) {\n      // Don't fire events if the hash has not changed.\n      return;\n    }\n    (this as{hash: string}).hash = value;\n    const newUrl = this.url;\n    scheduleMicroTask(() => this._hashUpdate.next({\n      type: 'hashchange', state: null, oldUrl, newUrl\n    } as LocationChangeEvent));\n  }\n\n  replaceState(state: any, title: string, newUrl: string): void {\n    const oldUrl = this.url;\n    const parsedUrl = parseUrl(newUrl);\n    (this as{pathname: string}).pathname = parsedUrl.pathname;\n    (this as{search: string}).search = parsedUrl.search;\n    this.setHash(parsedUrl.hash, oldUrl);\n  }\n\n  pushState(state: any, title: string, newUrl: string): void {\n    this.replaceState(state, title, newUrl);\n  }\n\n  forward(): void { throw new Error('Not implemented'); }\n\n  back(): void { throw new Error('Not implemented'); }\n\n  // History API isn't available on server, therefore return undefined\n  getState(): unknown { return undefined; }\n}\n\nexport function scheduleMicroTask(fn: Function) {\n  Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {Inject, Injectable} from '@angular/core';\nimport {ÉµgetDOM as getDOM} from '@angular/platform-browser';\n\n@Injectable()\nexport class ServerEventManagerPlugin /* extends EventManagerPlugin which is private */ {\n  constructor(@Inject(DOCUMENT) private doc: any) {}\n\n  // Handle all events on the server.\n  supports(eventName: string) { return true; }\n\n  addEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    return getDOM().onAndCancel(element, eventName, handler);\n  }\n\n  addGlobalEventListener(element: string, eventName: string, handler: Function): Function {\n    const target: HTMLElement = getDOM().getGlobalEventTarget(this.doc, element);\n    if (!target) {\n      throw new Error(`Unsupported event target ${target} for event ${eventName}`);\n    }\n    return this.addEventListener(target, eventName, handler);\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {DomElementSchemaRegistry} from '@angular/compiler';\nimport {Inject, Injectable, NgZone, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, ViewEncapsulation} from '@angular/core';\nimport {EventManager, ÉµNAMESPACE_URIS as NAMESPACE_URIS, ÉµSharedStylesHost as SharedStylesHost, ÉµflattenStyles as flattenStyles, ÉµgetDOM as getDOM, ÉµshimContentAttribute as shimContentAttribute, ÉµshimHostAttribute as shimHostAttribute} from '@angular/platform-browser';\n\nconst EMPTY_ARRAY: any[] = [];\n\nconst DEFAULT_SCHEMA = new DomElementSchemaRegistry();\n\n@Injectable()\nexport class ServerRendererFactory2 implements RendererFactory2 {\n  private rendererByCompId = new Map<string, Renderer2>();\n  private defaultRenderer: Renderer2;\n  private schema = DEFAULT_SCHEMA;\n\n  constructor(\n      private eventManager: EventManager, private ngZone: NgZone,\n      @Inject(DOCUMENT) private document: any, private sharedStylesHost: SharedStylesHost) {\n    this.defaultRenderer = new DefaultServerRenderer2(eventManager, document, ngZone, this.schema);\n  }\n\n  createRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Native:\n      case ViewEncapsulation.Emulated: {\n        let renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer = new EmulatedEncapsulationServerRenderer2(\n              this.eventManager, this.document, this.ngZone, this.sharedStylesHost, this.schema,\n              type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        (<EmulatedEncapsulationServerRenderer2>renderer).applyToHost(element);\n        return renderer;\n      }\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n\n  begin() {}\n  end() {}\n}\n\nclass DefaultServerRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n\n  constructor(\n      private eventManager: EventManager, protected document: any, private ngZone: NgZone,\n      private schema: DomElementSchemaRegistry) {}\n\n  destroy(): void {}\n\n  destroyNode: null;\n\n  createElement(name: string, namespace?: string, debugInfo?: any): any {\n    if (namespace) {\n      return getDOM().createElementNS(NAMESPACE_URIS[namespace], name, this.document);\n    }\n\n    return getDOM().createElement(name, this.document);\n  }\n\n  createComment(value: string, debugInfo?: any): any { return getDOM().createComment(value); }\n\n  createText(value: string, debugInfo?: any): any { return getDOM().createTextNode(value); }\n\n  appendChild(parent: any, newChild: any): void { getDOM().appendChild(parent, newChild); }\n\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      getDOM().insertBefore(parent, refChild, newChild);\n    }\n  }\n\n  removeChild(parent: any, oldChild: any): void {\n    if (parent) {\n      getDOM().removeChild(parent, oldChild);\n    }\n  }\n\n  selectRootElement(selectorOrNode: string|any, debugInfo?: any): any {\n    let el: any;\n    if (typeof selectorOrNode === 'string') {\n      el = getDOM().querySelector(this.document, selectorOrNode);\n      if (!el) {\n        throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n      }\n    } else {\n      el = selectorOrNode;\n    }\n    getDOM().clearNodes(el);\n    return el;\n  }\n\n  parentNode(node: any): any { return getDOM().parentElement(node); }\n\n  nextSibling(node: any): any { return getDOM().nextSibling(node); }\n\n  setAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().setAttributeNS(el, NAMESPACE_URIS[namespace], namespace + ':' + name, value);\n    } else {\n      getDOM().setAttribute(el, name, value);\n    }\n  }\n\n  removeAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().removeAttributeNS(el, NAMESPACE_URIS[namespace], name);\n    } else {\n      getDOM().removeAttribute(el, name);\n    }\n  }\n\n  addClass(el: any, name: string): void { getDOM().addClass(el, name); }\n\n  removeClass(el: any, name: string): void { getDOM().removeClass(el, name); }\n\n  setStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    getDOM().setStyle(el, style, value);\n  }\n\n  removeStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    getDOM().removeStyle(el, style);\n  }\n\n  // The value was validated already as a property binding, against the property name.\n  // To know this value is safe to use as an attribute, the security context of the\n  // attribute with the given name is checked against that security context of the\n  // property.\n  private _isSafeToReflectProperty(tagName: string, propertyName: string): boolean {\n    return this.schema.securityContext(tagName, propertyName, true) ===\n        this.schema.securityContext(tagName, propertyName, false);\n  }\n\n  setProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    getDOM().setProperty(el, name, value);\n    // Mirror property values for known HTML element properties in the attributes.\n    // Skip `innerhtml` which is conservatively marked as an attribute for security\n    // purposes but is not actually an attribute.\n    const tagName = (el.tagName as string).toLowerCase();\n    if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n        name.toLowerCase() !== 'innerhtml' && this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n        this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n        this._isSafeToReflectProperty(tagName, name)) {\n      this.setAttribute(el, name, value.toString());\n    }\n  }\n\n  setValue(node: any, value: string): void { getDOM().setText(node, value); }\n\n  listen(\n      target: 'document'|'window'|'body'|any, eventName: string,\n      callback: (event: any) => boolean): () => void {\n    checkNoSyntheticProp(eventName, 'listener');\n    if (typeof target === 'string') {\n      return <() => void>this.eventManager.addGlobalEventListener(\n          target, eventName, this.decoratePreventDefault(callback));\n    }\n    return <() => void>this.eventManager.addEventListener(\n               target, eventName, this.decoratePreventDefault(callback)) as() => void;\n  }\n\n  private decoratePreventDefault(eventHandler: Function): Function {\n    return (event: any) => {\n      // Run the event handler inside the ngZone because event handlers are not patched\n      // by Zone on the server. This is required only for tests.\n      const allowDefaultBehavior = this.ngZone.runGuarded(() => eventHandler(event));\n      if (allowDefaultBehavior === false) {\n        event.preventDefault();\n        event.returnValue = false;\n      }\n    };\n  }\n}\n\nconst AT_CHARCODE = '@'.charCodeAt(0);\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\n\nclass EmulatedEncapsulationServerRenderer2 extends DefaultServerRenderer2 {\n  private contentAttr: string;\n  private hostAttr: string;\n\n  constructor(\n      eventManager: EventManager, document: any, ngZone: NgZone, sharedStylesHost: SharedStylesHost,\n      schema: DomElementSchemaRegistry, private component: RendererType2) {\n    super(eventManager, document, ngZone, schema);\n    // Add a 's' prefix to style attributes to indicate server.\n    const componentId = 's' + component.id;\n    const styles = flattenStyles(componentId, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(componentId);\n    this.hostAttr = shimHostAttribute(componentId);\n  }\n\n  applyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n\n  createElement(parent: any, name: string): Element {\n    const el = super.createElement(parent, name, this.document);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {ÉµSharedStylesHost as SharedStylesHost, ÉµTRANSITION_ID, ÉµgetDOM as getDOM} from '@angular/platform-browser';\n\n@Injectable()\nexport class ServerStylesHost extends SharedStylesHost {\n  private head: any = null;\n\n  constructor(\n      @Inject(DOCUMENT) private doc: any,\n      @Optional() @Inject(ÉµTRANSITION_ID) private transitionId: string) {\n    super();\n    this.head = getDOM().getElementsByTagName(doc, 'head')[0];\n  }\n\n  private _addStyle(style: string): void {\n    let adapter = getDOM();\n    const el = adapter.createElement('style');\n    adapter.setText(el, style);\n    if (!!this.transitionId) {\n      adapter.setAttribute(el, 'ng-transition', this.transitionId);\n    }\n    adapter.appendChild(this.head, el);\n  }\n\n  onStylesAdded(additions: Set<string>) { additions.forEach(style => this._addStyle(style)); }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ÉµAnimationEngine} from '@angular/animations/browser';\nimport {DOCUMENT, PlatformLocation, ViewportScroller, ÉµNullViewportScroller as NullViewportScroller, ÉµPLATFORM_SERVER_ID as PLATFORM_SERVER_ID} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {Injectable, InjectionToken, Injector, NgModule, NgZone, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, PlatformRef, Provider, RendererFactory2, RootRenderer, StaticProvider, Testability, createPlatformFactory, platformCore, ÉµALLOW_MULTIPLE_PLATFORMS as ALLOW_MULTIPLE_PLATFORMS} from '@angular/core';\nimport {BrowserModule, EVENT_MANAGER_PLUGINS, ÉµSharedStylesHost as SharedStylesHost, ÉµgetDOM as getDOM} from '@angular/platform-browser';\nimport {ÉµplatformCoreDynamic as platformCoreDynamic} from '@angular/platform-browser-dynamic';\nimport {NoopAnimationsModule, ÉµAnimationRendererFactory} from '@angular/platform-browser/animations';\n\nimport {DominoAdapter, parseDocument} from './domino_adapter';\nimport {SERVER_HTTP_PROVIDERS} from './http';\nimport {ServerPlatformLocation} from './location';\nimport {PlatformState} from './platform_state';\nimport {ServerEventManagerPlugin} from './server_events';\nimport {ServerRendererFactory2} from './server_renderer';\nimport {ServerStylesHost} from './styles_host';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n\nfunction notSupported(feature: string): Error {\n  throw new Error(`platform-server does not support '${feature}'.`);\n}\n\nexport const INTERNAL_SERVER_PLATFORM_PROVIDERS: StaticProvider[] = [\n  {provide: DOCUMENT, useFactory: _document, deps: [Injector]},\n  {provide: PLATFORM_ID, useValue: PLATFORM_SERVER_ID},\n  {provide: PLATFORM_INITIALIZER, useFactory: initDominoAdapter, multi: true, deps: [Injector]}, {\n    provide: PlatformLocation,\n    useClass: ServerPlatformLocation,\n    deps: [DOCUMENT, [Optional, INITIAL_CONFIG]]\n  },\n  {provide: PlatformState, deps: [DOCUMENT]},\n  // Add special provider that allows multiple instances of platformServer* to be created.\n  {provide: ALLOW_MULTIPLE_PLATFORMS, useValue: true}\n];\n\nfunction initDominoAdapter(injector: Injector) {\n  return () => { DominoAdapter.makeCurrent(); };\n}\n\nexport function instantiateServerRendererFactory(\n    renderer: RendererFactory2, engine: ÉµAnimationEngine, zone: NgZone) {\n  return new ÉµAnimationRendererFactory(renderer, engine, zone);\n}\n\nexport const SERVER_RENDER_PROVIDERS: Provider[] = [\n  ServerRendererFactory2,\n  {\n    provide: RendererFactory2,\n    useFactory: instantiateServerRendererFactory,\n    deps: [ServerRendererFactory2, ÉµAnimationEngine, NgZone]\n  },\n  ServerStylesHost,\n  {provide: SharedStylesHost, useExisting: ServerStylesHost},\n  {provide: EVENT_MANAGER_PLUGINS, multi: true, useClass: ServerEventManagerPlugin},\n];\n\n/**\n * The ng module for the server.\n *\n * @publicApi\n */\n@NgModule({\n  exports: [BrowserModule],\n  imports: [HttpClientModule, NoopAnimationsModule],\n  providers: [\n    SERVER_RENDER_PROVIDERS,\n    SERVER_HTTP_PROVIDERS,\n    {provide: Testability, useValue: null},\n    {provide: ViewportScroller, useClass: NullViewportScroller},\n  ],\n})\nexport class ServerModule {\n}\n\nfunction _document(injector: Injector) {\n  let config: PlatformConfig|null = injector.get(INITIAL_CONFIG, null);\n  if (config && config.document) {\n    return parseDocument(config.document, config.url);\n  } else {\n    return getDOM().createHtmlDocument();\n  }\n}\n\n/**\n * @publicApi\n */\nexport const platformServer =\n    createPlatformFactory(platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n\n/**\n * The server platform that supports the runtime compiler.\n *\n * @publicApi\n */\nexport const platformDynamicServer =\n    createPlatformFactory(platformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DOCUMENT} from '@angular/common';\nimport {APP_ID, NgModule} from '@angular/core';\nimport {TransferState, ÉµescapeHtml as escapeHtml} from '@angular/platform-browser';\n\nimport {BEFORE_APP_SERIALIZED} from './tokens';\n\nexport function serializeTransferStateFactory(\n    doc: Document, appId: string, transferStore: TransferState) {\n  return () => {\n    const script = doc.createElement('script');\n    script.id = appId + '-state';\n    script.setAttribute('type', 'application/json');\n    script.textContent = escapeHtml(transferStore.toJson());\n    doc.body.appendChild(script);\n  };\n}\n\n/**\n * NgModule to install on the server side while using the `TransferState` to transfer state from\n * server to client.\n *\n * @publicApi\n */\n@NgModule({\n  providers: [\n    TransferState, {\n      provide: BEFORE_APP_SERIALIZED,\n      useFactory: serializeTransferStateFactory,\n      deps: [DOCUMENT, APP_ID, TransferState],\n      multi: true,\n    }\n  ]\n})\nexport class ServerTransferStateModule {\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ApplicationRef, NgModuleFactory, NgModuleRef, PlatformRef, StaticProvider, Type, ÉµisPromise} from '@angular/core';\nimport {ÉµTRANSITION_ID} from '@angular/platform-browser';\nimport {first} from 'rxjs/operators';\n\nimport {PlatformState} from './platform_state';\nimport {platformDynamicServer, platformServer} from './server';\nimport {BEFORE_APP_SERIALIZED, INITIAL_CONFIG} from './tokens';\n\ninterface PlatformOptions {\n  document?: string;\n  url?: string;\n  extraProviders?: StaticProvider[];\n}\n\nfunction _getPlatform(\n    platformFactory: (extraProviders: StaticProvider[]) => PlatformRef,\n    options: PlatformOptions): PlatformRef {\n  const extraProviders = options.extraProviders ? options.extraProviders : [];\n  return platformFactory([\n    {provide: INITIAL_CONFIG, useValue: {document: options.document, url: options.url}},\n    extraProviders\n  ]);\n}\n\nfunction _render<T>(\n    platform: PlatformRef, moduleRefPromise: Promise<NgModuleRef<T>>): Promise<string> {\n  return moduleRefPromise.then((moduleRef) => {\n    const transitionId = moduleRef.injector.get(ÉµTRANSITION_ID, null);\n    if (!transitionId) {\n      throw new Error(\n          `renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\nthe server-rendered app can be properly bootstrapped into a client app.`);\n    }\n    const applicationRef: ApplicationRef = moduleRef.injector.get(ApplicationRef);\n    return applicationRef.isStable.pipe((first((isStable: boolean) => isStable)))\n        .toPromise()\n        .then(() => {\n          const platformState = platform.injector.get(PlatformState);\n\n          const asyncPromises: Promise<any>[] = [];\n\n          // Run any BEFORE_APP_SERIALIZED callbacks just before rendering to string.\n          const callbacks = moduleRef.injector.get(BEFORE_APP_SERIALIZED, null);\n          if (callbacks) {\n            for (const callback of callbacks) {\n              try {\n                const callbackResult = callback();\n                if (ÉµisPromise(callbackResult)) {\n                  asyncPromises.push(callbackResult);\n                }\n\n              } catch (e) {\n                // Ignore exceptions.\n                console.warn('Ignoring BEFORE_APP_SERIALIZED Exception: ', e);\n              }\n            }\n          }\n\n          const complete = () => {\n            const output = platformState.renderToString();\n            platform.destroy();\n            return output;\n          };\n\n          if (asyncPromises.length === 0) {\n            return complete();\n          }\n\n          return Promise\n              .all(asyncPromises.map(asyncPromise => {\n                return asyncPromise.catch(\n                    e => { console.warn('Ignoring BEFORE_APP_SERIALIZED Exception: ', e); });\n              }))\n              .then(complete);\n        });\n  });\n}\n\n/**\n * Renders a Module to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * Do not use this in a production server environment. Use pre-compiled {@link NgModuleFactory} with\n * {@link renderModuleFactory} instead.\n *\n * @publicApi\n */\nexport function renderModule<T>(\n    module: Type<T>, options: {document?: string, url?: string, extraProviders?: StaticProvider[]}):\n    Promise<string> {\n  const platform = _getPlatform(platformDynamicServer, options);\n  return _render(platform, platform.bootstrapModule(module));\n}\n\n/**\n * Renders a {@link NgModuleFactory} to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * @publicApi\n */\nexport function renderModuleFactory<T>(\n    moduleFactory: NgModuleFactory<T>,\n    options: {document?: string, url?: string, extraProviders?: StaticProvider[]}):\n    Promise<string> {\n  const platform = _getPlatform(platformServer, options);\n  return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n\nimport {Version} from '@angular/core';\n\n/**\n * @publicApi\n */\nexport const VERSION = new Version('8.2.12');\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {SERVER_HTTP_PROVIDERS as Éµangular_packages_platform_server_platform_server_g,ServerXhr as Éµangular_packages_platform_server_platform_server_e,zoneWrappedInterceptingHandler as Éµangular_packages_platform_server_platform_server_f} from './src/http';\nexport {instantiateServerRendererFactory as Éµangular_packages_platform_server_platform_server_a} from './src/server';\nexport {ServerEventManagerPlugin as Éµangular_packages_platform_server_platform_server_d} from './src/server_events';\nexport {ServerStylesHost as Éµangular_packages_platform_server_platform_server_c} from './src/styles_host';\nexport {serializeTransferStateFactory as Éµangular_packages_platform_server_platform_server_b} from './src/transfer_state';"]}